var flaggen = new Array();

flaggen['de'] = new Array();
flaggen['de']['url'] = 'http://help.travian.de/';
flaggen['de']['img'] = '0';


flaggen['com'] = new Array();
flaggen['com']['url'] = 'http://help.travian.com/';
flaggen['com']['img'] = '21';

flaggen['net'] = new Array();
flaggen['net']['url'] = 'http://help.travian.net/';
flaggen['net']['img'] = '42';

flaggen['cat'] = new Array();
flaggen['cat']['url'] = 'http://help.travian.cat/';
flaggen['cat']['img'] = '63';

flaggen['nl'] = new Array();
flaggen['nl']['url'] = 'http://help.travian.nl/';
flaggen['nl']['img'] = '84';

flaggen['it'] = new Array();
flaggen['it']['url'] = 'http://help.travian.it/';
flaggen['it']['img'] = '105';

flaggen['fr'] = new Array();
flaggen['fr']['url'] = 'http://help.travian.fr/';
flaggen['fr']['img'] = '126';

flaggen['pl'] = new Array();
flaggen['pl']['url'] = 'http://help.travian.pl/';
flaggen['pl']['img'] = '147';

flaggen['pt'] = new Array();
flaggen['pt']['url'] = 'http://help.travian.pt/';
flaggen['pt']['img'] = '168';

flaggen['br'] = new Array();
flaggen['br']['url'] = 'http://help.travian.com.br/';
flaggen['br']['img'] = '189';

flaggen['ar'] = new Array();
flaggen['ar']['url'] = 'http://help.travian.com.ar/';
flaggen['ar']['img'] = '210';

flaggen['cl'] = new Array();
flaggen['cl']['url'] = 'http://help.travian.cl/';
flaggen['cl']['img'] = '231';

flaggen['mx'] = new Array();
flaggen['mx']['url'] = 'http://help.travian.com.mx/';
flaggen['mx']['img'] = '252';

flaggen['tr'] = new Array();
flaggen['tr']['url'] = 'http://help.travian.com.tr/';
flaggen['tr']['img'] = '273';

flaggen['ru'] = new Array();
flaggen['ru']['url'] = 'http://help.travian.ru/';
flaggen['ru']['img'] = '294';

flaggen['ua'] = new Array();
flaggen['ua']['url'] = 'http://help.travian.com.ua/';
flaggen['ua']['img'] = '315';

flaggen['lt'] = new Array();
flaggen['lt']['url'] = 'http://help.travian.lt/';
flaggen['lt']['img'] = '336';

flaggen['bg'] = new Array();
flaggen['bg']['url'] = 'http://help.travian.bg/';
flaggen['bg']['img'] = '357';

flaggen['ro'] = new Array();
flaggen['ro']['url'] = 'http://help.travian.ro/';
flaggen['ro']['img'] = '378';

flaggen['cz'] = new Array();
flaggen['cz']['url'] = 'http://help.travian.cz/';
flaggen['cz']['img'] = '399';

flaggen['sk'] = new Array();
flaggen['sk']['url'] = 'http://help.travian.sk/';
flaggen['sk']['img'] = '420';

flaggen['hu'] = new Array();
flaggen['hu']['url'] = 'http://help.travian.hu/';
flaggen['hu']['img'] = '441';

flaggen['si'] = new Array();
flaggen['si']['url'] = 'http://help.travian.si/';
flaggen['si']['img'] = '462';

flaggen['ba'] = new Array();
flaggen['ba']['url'] = 'http://help.travian.ba/';
flaggen['ba']['img'] = '483';

flaggen['hr'] = new Array();
flaggen['hr']['url'] = 'http://help.travian.com.hr/';
flaggen['hr']['img'] = '504';

flaggen['rs'] = new Array();
flaggen['rs']['url'] = 'http://help.travian.rs/';
flaggen['rs']['img'] = '525';

flaggen['cn'] = new Array();
flaggen['cn']['url'] = 'http://help.travian.cn/';
flaggen['cn']['img'] = '546';

flaggen['hk'] = new Array();
flaggen['hk']['url'] = 'http://help.travian.hk/';
flaggen['hk']['img'] = '567';

flaggen['dk'] = new Array();
flaggen['dk']['url'] = 'http://help.travian.dk/';
flaggen['dk']['img'] = '588';

flaggen['se'] = new Array();
flaggen['se']['url'] = 'http://help.travian.se/';
flaggen['se']['img'] = '609';

flaggen['fi'] = new Array();
flaggen['fi']['url'] = 'http://help.travian.fi/';
flaggen['fi']['img'] = '630';

flaggen['no'] = new Array();
flaggen['no']['url'] = 'http://help.travian.no/';
flaggen['no']['img'] = '651';

flaggen['us'] = new Array();
flaggen['us']['url'] = 'http://help.travian.us/';
flaggen['us']['img'] = '672';

flaggen['uk'] = new Array();
flaggen['uk']['url'] = 'http://help.travian.co.uk/';
flaggen['uk']['img'] = '693';

flaggen['ae'] = new Array();
flaggen['ae']['url'] = 'http://help.travian.ae/';
flaggen['ae']['img'] = '714';

flaggen['gr'] = new Array();
flaggen['gr']['url'] = 'http://help.travian.gr/';
flaggen['gr']['img'] = '735';

flaggen['tw'] = new Array();
flaggen['tw']['url'] = 'http://help.travian.tw/';
flaggen['tw']['img'] = '756';

flaggen['il'] = new Array();
flaggen['il']['url'] = 'http://help.travian.co.il/';
flaggen['il']['img'] = '777';

flaggen['id'] = new Array();
flaggen['id']['url'] = 'http://help.travian.co.id/';
flaggen['id']['img'] = '798';

flaggen['in'] = new Array();
flaggen['in']['url'] = 'http://help.travian.in/';
flaggen['in']['img'] = '819';

flaggen['jp'] = new Array();
flaggen['jp']['url'] = 'http://help.travian.jp/';
flaggen['jp']['img'] = '840';

flaggen['kr'] = new Array();
flaggen['kr']['url'] = 'http://help.travian.kr/';
flaggen['kr']['img'] = '861';

flaggen['my'] = new Array();
flaggen['my']['url'] = 'http://help.travian.com.my/';
flaggen['my']['img'] = '882';

flaggen['ph'] = new Array();
flaggen['ph']['url'] = 'http://help.travian.ph/';
flaggen['ph']['img'] = '903';

flaggen['th'] = new Array();
flaggen['th']['url'] = 'http://th.travian.com/';
flaggen['th']['img'] = '924';

flaggen['vn'] = new Array();
flaggen['vn']['url'] = 'http://help.travian.com.vn/';
flaggen['vn']['img'] = '945';

flaggen['by'] = new Array();
flaggen['by']['url'] = 'http://help.travian.by/';
flaggen['by']['img'] = '966';

flaggen['ch'] = new Array();
flaggen['ch']['url'] = 'http://help.travian.de/';
flaggen['ch']['img'] = '987';

flaggen['ee'] = new Array();
flaggen['ee']['url'] = 'http://help.travian.co.ee/';
flaggen['ee']['img'] = '1008';

flaggen['lv'] = new Array();
flaggen['lv']['url'] = 'http://help.travian.lv/';
flaggen['lv']['img'] = '1029';

flaggen['ie'] = new Array();
flaggen['ie']['url'] = 'http://help.travian.ie/';
flaggen['ie']['img'] = '1050';

flaggen['ca'] = new Array();
flaggen['ca']['url'] = 'http://help.travian.ca/';
flaggen['ca']['img'] = '1071';

flaggen['ir'] = new Array();
flaggen['ir']['url'] = 'http://help.travian.ir/';
flaggen['ir']['img'] = '1092';

flaggen['za'] = new Array();
flaggen['za']['url'] = 'http://help.travian.co.za/';
flaggen['za']['img'] = '1113';

flaggen['au'] = new Array();
flaggen['au']['url'] = 'http://help.travian.com.au/';
flaggen['au']['img'] = '1134';

flaggen['nz'] = new Array();
flaggen['nz']['url'] = 'http://help.travian.co.nz/';
flaggen['nz']['img'] = '1155';


var region = new Array();
	region[0] = new Array('ba','bg','cat','com','cz','de','dk','fi','fr','gr','hr','hu','it','lt','net','nl','no','pl','pt','ro','rs','ru','se','si','sk','tr','ua','uk','by','ee','ie','lv','ch');
	region[1]= new Array('ar','br','cl','mx','us','ca');
	region[2]= new Array('cn','com','hk','in','id','jp','my','ph','kr','th','vn'); 
	region[3]= new Array('ae','il','ir');
	region[4]= new Array('za');
	region[5]= new Array('au','nz');

var jsTLD='';
var jsAD =0;

function region_box(r, regions){
var box = ''; 
var options = '';	
	for (reg in regions){ 
		if (reg==r) {var selected = ' selected="selected" '; } else {var selected = ''; }
		options= options+'<option value="'+reg+'"'+selected+'>'+regions[reg]+'</option>';
	}
	box = '<div class="region_box"><form action="#"><select name="region" onchange="change_flags(this.value)">'+options+'</select></form></div>';
return box;	
}

function flag_box(r){
var flags = '';
var query = ' ';
		if (jsAD!='') { query = query+'?ad='+jsAD; }
		if (query!=' ') { query = query+'&from='+jsTLD; } else { query='?from='+jsTLD; }
		region[r].sort();
		for(var i=0; i<region[r].length; i++) {
			reg = region[r][i];
			flags = flags+'<div id="flag" class="single"><a href="../../help.travian.net/%27+flaggen%5Breg%5D%5B%27url%27%5D+query+%27"><img alt="'+reg+'" title="'+reg+'" onmouseover="changeOpacity(this, 1)" onmouseout="changeOpacity(this, 0.4)" src="../../help.travian.net/img/un/x.gif" style="background-image:url(../../help.travian.net/img/un/fl/flags.gif); background-position:-'+flaggen[reg]['img']+'px 0px;"></a></div>';
		}
		flags = flags+'<br/>';
		for(var i=0; i<region[r].length; i++) {
			reg = region[r][i];
			flags = flags+'<div id="country" class="tld">'+reg+'</div>';
		}
return flags;
}

function change_flags(r){
	var dnode = document.getElementById("flag_box");
	if (dnode!=null){
		var flags=flag_box(r);
		dnode.innerHTML = flags;
	}
}

function select_region(tld){
	var found = false;
	for (var i in region){
		for(var j in region[i]){ if (region[i][j]==tld){found=true; break;} } 
		if(found==true){ break; }
	}	
	if (found==true){ return i; } else { return 0; }
}

function show_flags(tld, ad, regions){
	var reg_select = select_region(tld);
	var regbox = region_box(reg_select, regions);
	jsTLD = tld; jsAD = ad;
	var flags  = flag_box(reg_select);	
	var node = document.getElementById("flags");
	if (node!=null){
		node.innerHTML = regbox+'<div class="region_flag" id="flag_box">'+flags+'</div>';
	}
}